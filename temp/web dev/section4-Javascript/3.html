<!DOCTYPE html>
<html>
<head>
	<title>Reaction Timer</title>
	<style type="text/css">
		#circle{
			position:relative;
			top:50px;
			left:50px;
			background-color: red;
			height: 100px;
			width:150px;
			border-radius: 0;
			display:none;
		}
	</style>
</head>
<body>
	<h1>Test Your Reactions!</h1>
	<p>Click on the boxes and circles as quickly as you can!</p>
	<div>
		<h3>Your time:<span id="time"></span></h3>
	</div>
	<div id="circle">
		
	</div>
	<script type="text/javascript">

		function rand(a,b){
			var x=Math.floor(Math.random()*(b-a+1))+a;
			return (x);
		}

		function getRandomColor() {
  			var letters = '0123456789ABCDEF'.split('');
  			var color = '#';
  			for (var i = 0; i < 6; i++) {
    			color += letters[Math.floor(Math.random() * 16)];
  			}
  			return color;
		}

		var start=new Date().getTime();

		function makeShape(){
			y=rand(20,450)+"px";
			document.getElementById("circle").style.left=y;
			y=rand(20,350)+"px";
			document.getElementById("circle").style.top=y;
			var z=rand(1,5);
			if(z>=3){
				document.getElementById("circle").style.borderRadius="0";
				y=rand(40,350)+"px";
				document.getElementById("circle").style.height=y;
				y=rand(40,350)+"px";
				document.getElementById("circle").style.width=y;
			}
			else{
				document.getElementById("circle").style.borderRadius="50%";
				y=rand(40,350)+"px";
				document.getElementById("circle").style.height=y;
				document.getElementById("circle").style.width=y;
			}
			document.getElementById("circle").style.backgroundColor=getRandomColor();
			document.getElementById("circle").style.display = "block";
			start=new Date().getTime();
		}

		function appearAfterDelay(){
			setTimeout(makeShape,Math.random()*1000);
		}
		appearAfterDelay();

		document.getElementById("circle").onclick=function(){
			document.getElementById("circle").style.display = "none";
			var end=new Date().getTime();
			var timeTaken=(end-start)/1000;
			document.getElementById("time").innerHTML=timeTaken+"s";
			start=end;
			appearAfterDelay();
		}
	</script>
</body>
</html>